import { Breadcrumbs } from "@/components/shared/breadcrumbs"
import { SidebarNavigation } from "@/components/shared/sidebar-navigation"
import { VulnerabilityDetails } from "@/components/features/vulnerability/vulnerability-details"

export default async function Vulnerability({ params }) {

    const breadcrumbItems = [
        {
            title: "Dashboard",
            href: "/dashboard",
        },
        {
            title: "Vulnerabilities",
            href: "/dashboard/vulnerabilities"
        },
        {
            title: params.vulnerabilityId,
            isCurrentPage: true,
            type: "vulnerability"
        }
    ]

    const sidebarNavItems = [
        {
            title: "Overview",
            href: `/dashboard/vulnerabilities/${params.vulnerabilityId}`,
        },
        {
            title: "Impact",
            href: `/dashboard/vulnerabilities/${params.vulnerabilityId}/impact`,
        },
        {
            title: "Evidence",
            href: `/dashboard/vulnerabilities/${params.vulnerabilityId}/evidence`,
        },
        {
            title: "Remediation",
            href: `/dashboard/vulnerabilities/${params.vulnerabilityId}/remediation`,
        }
    ]

    return (
        <div className="flex flex-col h-full">
            <Breadcrumbs items={breadcrumbItems} />
            <div className="flex pb-5 pt-10 space-y-8 lg:flex-row lg:space-x-12 lg:space-y-0 grow">
                <aside className="-mx-4 lg:w-1/6">
                    <SidebarNavigation items={sidebarNavItems} />
                </aside>
                <div className="flex-1 h-full relative">
                    <VulnerabilityDetails vulnerabilityId={params.vulnerabilityId} />
                </div>
            </div>
        </div>
    )
}
